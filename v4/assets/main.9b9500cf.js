import{_ as g,a as E,g as W,p as z,s as H,c as L,b as h,d as j,i as F,e as U,l as O,f as _,h as N,j as I,k as J}from"./locales.b7c68c40.js";import{c as C,n as b,a as c,r as v,o as r,F as x,b as w,d as s,t as m,e as f,f as p,g as R,h as P,w as A,T as q,i as k,j as Z,v as G,p as K,k as X,l as Y,m as $,q as oo,s as ao}from"./vue-libs.a3cd7f61.js";const eo={name:"VanDocNavLink",props:{base:String,item:Object},computed:{itemName(){const o=(this.item.title||this.item.name).split(" ");return`${o[0]} <span>${o.slice(1).join(" ")}</span>`},path(){return`${this.base}${this.item.path}`},active(){return this.$route.path===this.path?!0:this.item.path==="home"?this.$route.path===this.base:!1}},watch:{active(){this.scrollIntoView()}},mounted(){this.scrollIntoView()},methods:{scrollIntoView(){this.active&&this.$el&&this.$el.scrollIntoViewIfNeeded&&this.$el.scrollIntoViewIfNeeded()}}},no=["href","innerHTML"],to=["innerHTML"];function ro(o,e,a,i,t,n){const l=v("router-link");return a.item.path?(r(),C(l,{key:0,class:b({active:n.active}),to:n.path,innerHTML:n.itemName},null,8,["class","to","innerHTML"])):a.item.link?(r(),c("a",{key:1,href:a.item.link,innerHTML:n.itemName},null,8,no)):(r(),c("a",{key:2,innerHTML:n.itemName},null,8,to))}var Q=g(eo,[["render",ro]]);const io={name:"VanDocNav",components:{[Q.name]:Q},props:{lang:String,navConfig:Array},data(){return{top:64,bottom:0}},computed:{style(){return{top:this.top+"px",bottom:this.bottom+"px"}},base(){return this.lang?`/${this.lang}/`:"/"}},created(){window.addEventListener("scroll",this.onScroll),this.onScroll()},methods:{onScroll(){const{pageYOffset:o}=window;this.top=Math.max(0,64-o)}}},co={class:"van-doc-nav__title"};function so(o,e,a,i,t,n){const l=v("van-doc-nav-link");return r(),c("div",{class:"van-doc-nav",style:R(n.style)},[(r(!0),c(x,null,w(a.navConfig,(d,u)=>(r(),c("div",{class:"van-doc-nav__group",key:u},[s("div",co,m(d.title),1),d.items?(r(!0),c(x,{key:0},w(d.items,(y,S)=>(r(),c("div",{key:S,class:"van-doc-nav__item"},[f(l,{item:y,base:n.base},null,8,["item","base"])]))),128)):p("",!0)]))),128))],4)}var lo=g(io,[["render",so]]);const ho={name:"VanDocSearch",props:{lang:String,searchConfig:Object},watch:{lang(){this.initDocsearch()}},mounted(){this.initDocsearch()},methods:{initDocsearch(){this.searchConfig&&(E(()=>Promise.resolve({}),["assets/style.07d69422.css"]),E(()=>import("./index.9c94ac91.js"),[]).then(o=>{o.default({...this.searchConfig,container:"#docsearch"})}))}}},po={id:"docsearch"};function vo(o,e,a,i,t,n){return r(),c("div",po)}var go=g(ho,[["render",vo]]);const uo={name:"VanDocHeader",components:{SearchInput:go},props:{lang:String,config:Object,versions:Array,langConfigs:Array,darkModeClass:String},data(){return{currentTheme:W(),packageVersion:z,showVersionPop:!1}},computed:{langLink(){return`#${this.$route.path.replace(this.lang,this.anotherLang.lang)}`},langLabel(){return this.anotherLang.label},anotherLang(){const o=this.langConfigs.filter(e=>e.lang!==this.lang);return o.length?o[0]:{}},searchConfig(){return this.config.searchConfig},themeImg(){return this.currentTheme==="light"?"https://b.yzcdn.cn/vant/dark-theme.svg":"https://b.yzcdn.cn/vant/light-theme.svg"}},watch:{currentTheme:{handler(o,e){window.localStorage.setItem("vantTheme",o),document.body.classList.remove(`van-doc-theme-${e}`),document.body.classList.add(`van-doc-theme-${o}`),H(o)},immediate:!0}},methods:{toggleTheme(){this.currentTheme=this.currentTheme==="light"?"dark":"light"},toggleVersionPop(){const o=!this.showVersionPop,e=o?"add":"remove";document.body[`${e}EventListener`]("click",this.checkHideVersionPop),this.showVersionPop=o},checkHideVersionPop(o){this.$refs.version.contains(o.target)||(this.showVersionPop=!1)},onSwitchLang(o){this.$router.push(this.$route.path.replace(o.from,o.to))},onSwitchVersion(o){o.link&&(location.href=o.link)}}},mo={class:"van-doc-header"},fo={class:"van-doc-row"},bo={class:"van-doc-header__top"},xo={class:"van-doc-header__logo"},ko=["src"],yo={class:"van-doc-header__title"},_o={key:0,class:"van-doc-header__subtitle"},wo={class:"van-doc-header__top-nav"},Ao=["href"],Co=["src"],To={key:1},So={key:0,class:"van-doc-header__top-nav-item"},Eo=["src"],Io={key:1,ref:"version",class:"van-doc-header__top-nav-item"},Qo={key:0,class:"van-doc-header__version-pop"},Bo=["onClick"],Vo={key:2,class:"van-doc-header__top-nav-item"},Lo=["href"];function Ro(o,e,a,i,t,n){const l=v("search-input");return r(),c("div",mo,[s("div",fo,[s("div",bo,[s("a",xo,[s("img",{src:a.config.logo},null,8,ko),s("span",yo,m(a.config.title),1),a.config.subtitle?(r(),c("span",_o,m(a.config.subtitle),1)):p("",!0)]),s("ul",wo,[(r(!0),c(x,null,w(a.config.links,(d,u)=>(r(),c("li",{key:u,class:"van-doc-header__top-nav-item"},[s("a",{class:"van-doc-header__link",target:"_blank",href:d.url},[d.logo?(r(),c("img",{key:0,src:d.logo},null,8,Co)):d.text?(r(),c("span",To,m(d.text),1)):p("",!0)],8,Ao)]))),128)),a.darkModeClass?(r(),c("li",So,[s("a",{class:"van-doc-header__link",target:"_blank",onClick:e[0]||(e[0]=(...d)=>n.toggleTheme&&n.toggleTheme(...d))},[s("img",{src:n.themeImg},null,8,Eo)])])):p("",!0),a.versions?(r(),c("li",Io,[s("span",{class:"van-doc-header__cube van-doc-header__version",onClick:e[1]||(e[1]=(...d)=>n.toggleVersionPop&&n.toggleVersionPop(...d))},[P(m(t.packageVersion)+" ",1),f(q,{name:"van-doc-dropdown"},{default:A(()=>[t.showVersionPop?(r(),c("div",Qo,[(r(!0),c(x,null,w(a.versions,(d,u)=>(r(),c("div",{key:u,class:"van-doc-header__version-pop-item",onClick:y=>n.onSwitchVersion(d)},m(d.label),9,Bo))),128))])):p("",!0)]),_:1})])],512)):p("",!0),n.langLabel&&n.langLink?(r(),c("li",Vo,[s("a",{class:"van-doc-header__cube",href:n.langLink},m(n.langLabel),9,Lo)])):p("",!0),n.searchConfig?(r(),C(l,{key:3,lang:a.lang,"search-config":n.searchConfig},null,8,["lang","search-config"])):p("",!0)])])])])}var Mo=g(uo,[["render",Ro]]);const Do={name:"VanDocContent",computed:{currentPage(){const{path:o}=this.$route;return o?o.split("/").slice(-1)[0]:this.$route.name}},watch:{$route(o,e){e.path!==o.path&&setTimeout(()=>{this.copyAction()})}},mounted(){this.copyAction()},methods:{onClick({target:o}){["H2","H3","H4","H5"].includes(o.tagName)&&this.scrollToAnchor(o)},scrollToAnchor(o){o.id&&this.$router.push({name:this.$route.name,hash:"#"+o.id})},copyAction(){const o=document.querySelectorAll(".van-doc-card pre code");if(!(!o||!o.length))for(let e=0;e<o.length;e++){const a=o[e];let i=null;a.addEventListener("click",()=>{if(i)return;const t=a.innerText;L(t),a.classList.add("code-copy-success"),i=setTimeout(()=>{a.classList.remove("code-copy-success"),i=null},1400)})}}}};function Wo(o,e,a,i,t,n){return r(),c("div",{class:b(["van-doc-content",`van-doc-content--${n.currentPage}`]),onClick:e[0]||(e[0]=(...l)=>n.onClick&&n.onClick(...l))},[k(o.$slots,"default")],2)}var zo=g(Do,[["render",Wo]]);const Ho={name:"VanDocContainer",props:{hasSimulator:Boolean}};function jo(o,e,a,i,t,n){return r(),c("div",{class:b(["van-doc-container van-doc-row",{"van-doc-container--with-simulator":a.hasSimulator}])},[k(o.$slots,"default")],2)}var Fo=g(Ho,[["render",jo]]);const Uo={name:"VanDocSimulator",props:{src:String},data(){return{scrollTop:window.scrollY,windowHeight:window.innerHeight}},computed:{isFixed(){return this.scrollTop>60},simulatorStyle(){return{height:Math.min(640,this.windowHeight-90)+"px"}}},mounted(){window.addEventListener("scroll",()=>{this.scrollTop=window.scrollY}),window.addEventListener("resize",()=>{this.windowHeight=window.innerHeight})}},Oo=["src"];function No(o,e,a,i,t,n){return r(),c("div",{class:b(["van-doc-simulator",{"van-doc-simulator-fixed":n.isFixed}])},[s("iframe",{ref:"iframe",src:a.src,style:R(n.simulatorStyle),frameborder:"0"},null,12,Oo)],2)}var Jo=g(Uo,[["render",No]]);const Po={name:"VanDoc",components:{DocNav:lo,DocHeader:Mo,DocContent:zo,DocContainer:Fo,DocSimulator:Jo},props:{lang:String,versions:Array,simulator:String,langConfigs:Array,hasSimulator:Boolean,darkModeClass:String,config:{type:Object,required:!0},base:{type:String,default:""}},emits:["switch-version"],watch:{$route(){this.setNav()}},created(){this.setNav(),this.keyboardHandler()},methods:{setNav(){const{nav:o}=this.config,e=o.reduce((t,n)=>t.concat(n.items),[]),a=this.$route.path.split("/").pop();let i;for(let t=0,n=e.length;t<n;t++)if(e[t].path===a){i=t;break}this.leftNav=e[i-1],this.rightNav=e[i+1]},keyboardNav(o){if(/win(32|64)/.test(navigator.userAgent.toLocaleLowerCase()))return;const e=o==="prev"?this.leftNav:this.rightNav;e.path&&this.$router.push(this.base+e.path)},keyboardHandler(){window.addEventListener("keyup",o=>{switch(o.keyCode){case 37:this.keyboardNav("prev");break;case 39:this.keyboardNav("next");break}})}}},qo={class:"van-doc"};function Zo(o,e,a,i,t,n){const l=v("doc-header"),d=v("doc-nav"),u=v("doc-content"),y=v("doc-container"),S=v("doc-simulator");return r(),c("div",qo,[f(l,{lang:a.lang,config:a.config,versions:a.versions,"lang-configs":a.langConfigs,"dark-mode-class":a.darkModeClass,onSwitchVersion:e[0]||(e[0]=D=>o.$emit("switch-version",D))},null,8,["lang","config","versions","lang-configs","dark-mode-class"]),f(d,{lang:a.lang,"nav-config":a.config.nav},null,8,["lang","nav-config"]),f(y,{"has-simulator":a.hasSimulator},{default:A(()=>[f(u,null,{default:A(()=>[k(o.$slots,"default")]),_:3})]),_:3},8,["has-simulator"]),a.hasSimulator?(r(),C(S,{key:0,src:a.simulator},null,8,["src"])):p("",!0)])}var Go=g(Po,[["render",Zo]]);const Ko={components:{VanDoc:Go},data(){return{hasSimulator:!0,darkModeClass:h.site.darkModeClass}},computed:{simulator(){var e,a;return(e=h.site.simulator)!=null&&e.url?(a=h.site.simulator)==null?void 0:a.url:`${location.pathname.replace(/\/index(\.html)?/,"/")}mobile.html${location.hash}`},lang(){const{lang:o}=this.$route.meta;return o||""},langConfigs(){const{locales:o={}}=h.site;return Object.keys(o).map(e=>({lang:e,label:o[e].langLabel||""}))},config(){const{locales:o}=h.site;return o?o[this.lang]:h.site},versions(){return h.site.versions||null}},watch:{"$route.path"(){this.setTitleAndToggleSimulator()},lang(o){j(o),this.setTitleAndToggleSimulator()},config:{handler(o){o&&this.setTitleAndToggleSimulator()},immediate:!0}},mounted(){this.$route.hash&&this.$nextTick(()=>{const o=document.querySelector(this.$route.hash);o&&o.scrollIntoView()})},methods:{setTitleAndToggleSimulator(){let{title:o}=this.config;const a=this.config.nav.reduce((i,t)=>[...i,...t.items],[]).find(i=>i.path===this.$route.meta.name);a&&a.title?o=a.title+" - "+o:this.config.description&&(o+=` - ${this.config.description}`),document.title=o,this.hasSimulator=!(h.site.hideSimulator||this.config.hideSimulator||a&&a.hideSimulator)}}},Xo={class:"app"};function Yo(o,e,a,i,t,n){const l=v("router-view"),d=v("van-doc");return r(),c("div",Xo,[n.config?(r(),C(d,{key:0,lang:n.lang,config:n.config,versions:n.versions,simulator:n.simulator,"has-simulator":t.hasSimulator,"lang-configs":n.langConfigs,"dark-mode-class":t.darkModeClass},{default:A(()=>[f(l)]),_:1},8,["lang","config","versions","simulator","has-simulator","lang-configs","dark-mode-class"])):p("",!0)])}var $o=g(Ko,[["render",Yo]]);const oa={name:"DemoPlayground",props:{originCode:String,codeSnippet:String,transform:Boolean,compact:Boolean,inline:Boolean},data(){return{showSource:!1,copyStatus:"ready"}},methods:{unescape,toggleSource(){this.showSource=!this.showSource},copySourceCode(){L(unescape(this.originCode)),this.copyStatus="copied",setTimeout(()=>{this.copyStatus="ready"},2e3)}}},aa=o=>(K("data-v-356bb874"),o=o(),X(),o),ea={class:"demo-playground--code"},na={class:"demo-playground--code--actions"},ta=aa(()=>s("span",null,null,-1)),ra=["data-status"],ia=["innerHTML"];function ca(o,e,a,i,t,n){return r(),c("div",{class:b({"demo-playground":!a.inline,transform:a.transform})},[a.inline?k(o.$slots,"default",{key:0},void 0,!0):(r(),c(x,{key:1},[s("div",{class:b(["demo-playground--previewer",{compact:a.compact}])},[k(o.$slots,"default",{},void 0,!0)],2),s("div",ea,[s("div",na,[ta,s("button",{title:"Copy source code",class:"action-icon",role:"copy","data-status":t.copyStatus,onClick:e[0]||(e[0]=(...l)=>n.copySourceCode&&n.copySourceCode(...l))},null,8,ra),s("button",{title:"Toggle source code panel",class:"action-icon",role:"source",onClick:e[1]||(e[1]=(...l)=>n.toggleSource&&n.toggleSource(...l))})]),Z(s("div",{innerHTML:n.unescape(a.codeSnippet),class:"demo-playground--code--content"},null,8,ia),[[G,t.showSource]])])],64))],2)}var B=g(oa,[["render",ca],["__scopeId","data-v-356bb874"]]);F&&location.replace("mobile.html"+location.hash);const{locales:M,defaultLang:da}=h.site;U(da);function sa(o){if(o.indexOf("_")!==-1){const e=o.split("_"),a=e.shift();return{component:`${I(a)}`,lang:e.join("-")}}return{component:`${I(o)}`,lang:""}}function la(o){const e=o.path.split("/")[1];return Object.keys(M).indexOf(e)!==-1?e:J()}function ha(){const o=[],e=Object.keys(_);M?o.push({name:"notFound",path:"/:path(.*)+",redirect:i=>({name:la(i)})}):o.push({name:"notFound",path:"/:path(.*)+",redirect:{name:"home"}});function a(i,t){o.push({name:t||"home",path:`/${t||""}`,component:i,meta:{lang:t}})}return e.forEach(i=>{const{component:t,lang:n}=sa(i);t==="home"&&a(_[i],n),n?o.push({name:`${n}/${t}`,path:`/${n}/${t}`,component:_[i],meta:{lang:n,name:t}}):o.push({name:`${t}`,path:`/${t}`,component:_[i],meta:{name:t}})}),o}const T=Y({history:$(),routes:ha(),scrollBehavior(o){return o.hash?{el:o.hash}:{top:0}}});T.afterEach(()=>{oo(N)});var V;((V=h.site.simulator)==null?void 0:V.syncPathFromSimulator)!==!1&&O(T);window.vueRouter=T;window.app=ao($o).use(T).component(B.name,B);setTimeout(()=>{window.app.mount("#app")},0);
