import{c as w,e as M,K as u,H as i,p as C}from"./use-translate.85b7fc27.js";import{w as F}from"./with-install.d26e13af.js";import{s as O,a as c,p as T,g as A}from"./utils.8b18deba.js";import{P as E}from"./index.1994c538.js";import{A as I,x as K,D as N,y as d,e as B,B as H}from"./vue-libs.a3cd7f61.js";const f=new Date().getFullYear(),[S]=w("date-picker"),U=M({},O,{columnsType:{type:Array,default:()=>["year","month","day"]},minDate:{type:Date,default:()=>new Date(f-10,0,1),validator:u},maxDate:{type:Date,default:()=>new Date(f+10,11,31),validator:u}});var _=I({name:S,props:U,emits:["confirm","cancel","change","update:modelValue"],setup(a,{emit:r,slots:D}){const n=K(a.modelValue),h=()=>{const e=a.minDate.getFullYear(),t=a.maxDate.getFullYear();return c(e,t,"year",a.formatter,a.filter)},m=e=>e===a.maxDate.getFullYear(),g=e=>e===a.maxDate.getMonth()+1,l=e=>{const{minDate:t,columnsType:o}=a,k=o.indexOf(e),s=n.value[k];if(s)return+s;switch(e){case"year":return t.getFullYear();case"month":return t.getMonth()+1;case"day":return t.getDate()}},y=()=>m(l("year"))?c(1,a.maxDate.getMonth()+1,"month",a.formatter,a.filter):c(1,12,"month",a.formatter,a.filter),x=()=>{const e=l("year"),t=l("month");let o=A(e,t);return m(e)&&g(t)&&(o=a.maxDate.getDate()),c(1,o,"day",a.formatter,a.filter)},v=N(()=>a.columnsType.map(e=>{switch(e){case"year":return h();case"month":return y();case"day":return x();default:throw new Error(`[Vant] DatePicker: unsupported columns type: ${e}`)}}));d(n,e=>{i(e,a.modelValue)&&r("update:modelValue",e)}),d(()=>a.modelValue,e=>{i(e,n.value)||(n.value=e)});const V=(...e)=>r("change",...e),Y=(...e)=>r("cancel",...e),P=(...e)=>r("confirm",...e);return()=>B(E,H({modelValue:n.value,"onUpdate:modelValue":e=>n.value=e,columns:v.value,onChange:V,onCancel:Y,onConfirm:P},C(a,T)),D)}});const G=F(_);export{G as D};
