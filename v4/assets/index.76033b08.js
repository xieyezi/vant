import{c as C,e as F,T as d,H as D,p as O}from"./use-translate.c7ada534.js";import{w as T}from"./with-install.fe59c8e0.js";import{s as A,a as m,p as E,g as I}from"./utils.c720939b.js";import{P as N}from"./index.9563dafc.js";import{A as B,x as H,D as K,y as h,e as S,B as U}from"./vue-libs.34a885a4.js";const g=new Date().getFullYear(),[_]=C("date-picker"),$=F({},A,{columnsType:{type:Array,default:()=>["year","month","day"]},minDate:{type:Date,default:()=>new Date(g-10,0,1),validator:d},maxDate:{type:Date,default:()=>new Date(g+10,11,31),validator:d}}),b=B({name:_,props:$,emits:["confirm","cancel","change","update:modelValue"],setup(t,{emit:r,slots:f}){const n=H(t.modelValue),y=()=>{const e=t.minDate.getFullYear(),a=t.maxDate.getFullYear();return m(e,a,"year",t.formatter,t.filter)},l=e=>e===t.minDate.getFullYear(),i=e=>e===t.maxDate.getFullYear(),x=e=>e===t.minDate.getMonth()+1,M=e=>e===t.maxDate.getMonth()+1,c=e=>{const{minDate:a,columnsType:o}=t,s=o.indexOf(e),u=n.value[s];if(u)return+u;switch(e){case"year":return a.getFullYear();case"month":return a.getMonth()+1;case"day":return a.getDate()}},V=()=>{const e=c("year"),a=l(e)?t.minDate.getMonth()+1:1,o=i(e)?t.maxDate.getMonth()+1:12;return m(a,o,"month",t.formatter,t.filter)},Y=()=>{const e=c("year"),a=c("month"),o=l(e)&&x(a)?t.minDate.getDate():1,s=i(e)&&M(a)?t.maxDate.getDate():I(e,a);return m(o,s,"day",t.formatter,t.filter)},P=K(()=>t.columnsType.map(e=>{switch(e){case"year":return y();case"month":return V();case"day":return Y();default:throw new Error(`[Vant] DatePicker: unsupported columns type: ${e}`)}}));h(n,e=>{D(e,t.modelValue)||r("update:modelValue",e)}),h(()=>t.modelValue,e=>{D(e,n.value)||(n.value=e)});const k=(...e)=>r("change",...e),v=(...e)=>r("cancel",...e),w=(...e)=>r("confirm",...e);return()=>S(N,U({modelValue:n.value,"onUpdate:modelValue":e=>n.value=e,columns:P.value,onChange:k,onCancel:v,onConfirm:w},O(t,E)),f)}}),j=T(b),Q=j;export{Q as V};
