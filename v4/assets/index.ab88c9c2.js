import{c as z,i as W,r as I,Z as M,l as O,F as j,a as V}from"./use-translate.22943ac9.js";import{c as X,n as P,w as Z}from"./with-install.c6b01ca2.js";import{c as $}from"./interceptor.0a931a5c.js";import{u as G}from"./use-touch.d1be10ec.js";import{u as J}from"./use-expose.e6b8a577.js";import{A,x as _,H as K,D as R,e as l,r as Q,o as Y,a as ee,w as s,C as t,F as te}from"./vue-libs.df86f395.js";import{B as p}from"./index.a138e893.js";import{C as q}from"./index.b3a8f6bd.js";import{C as oe}from"./index.0ad9f615.js";import{c as le}from"./index.1975320c.js";import{D as ae}from"./function-call.ebf19ef1.js";import"./constant.80c6de18.js";import"./use-route.f401cb95.js";import"./index.7f987ed8.js";import"./index.f8de354f.js";import"./index.98d60be0.js";import"./index.4ed5a52c.js";import"./mount-component.f5f0bedd.js";import"./index.fe471a10.js";import"./use-lazy-render.75150313.js";import"./on-popup-reopen.e1d5c0c5.js";import"./index.d0442e86.js";import"./index.3874b8b6.js";import"./use-placeholder.bcd8209b.js";import"./use-height.65e143c4.js";const[re,x]=z("swipe-cell"),ne={name:X(""),disabled:Boolean,leftWidth:P,rightWidth:P,beforeClose:Function,stopPropagation:Boolean};var se=A({name:re,props:ne,emits:["open","close","click"],setup(a,{emit:o,slots:f}){let i,u,m;const d=_(),y=_(),w=_(),r=K({offset:0,dragging:!1}),g=G(),T=e=>e.value?I(e).width:0,h=R(()=>W(a.leftWidth)?+a.leftWidth:T(y)),C=R(()=>W(a.rightWidth)?+a.rightWidth:T(w)),k=e=>{r.offset=e==="left"?h.value:-C.value,i||(i=!0,o("open",{name:a.name,position:e}))},v=e=>{r.offset=0,i&&(i=!1,o("close",{name:a.name,position:e}))},H=e=>{const n=Math.abs(r.offset),c=.15,L=i?1-c:c,S=e==="left"?h.value:C.value;S&&n>S*L?k(e):v(e)},N=e=>{a.disabled||(m=r.offset,g.start(e))},U=e=>{if(a.disabled)return;const{deltaX:n}=g;g.move(e),g.isHorizontal()&&(u=!0,r.dragging=!0,(!i||n.value*m<0)&&O(e,a.stopPropagation),r.offset=j(n.value+m,-C.value,h.value))},B=()=>{r.dragging&&(r.dragging=!1,H(r.offset>0?"left":"right"),setTimeout(()=>{u=!1},0))},E=(e="outside")=>{o("click",e),i&&!u&&$(a.beforeClose,{args:[{name:a.name,position:e}],done:()=>v(e)})},D=(e,n)=>c=>{n&&c.stopPropagation(),E(e)},F=(e,n)=>{const c=f[e];if(c)return l("div",{ref:n,class:x(e),onClick:D(e,!0)},[c()])};return J({open:k,close:v}),M(d,()=>E("outside"),{eventName:"touchstart"}),()=>{var n;const e={transform:`translate3d(${r.offset}px, 0, 0)`,transitionDuration:r.dragging?"0s":".6s"};return l("div",{ref:d,class:x(),onClick:D("cell",u),onTouchstart:N,onTouchmove:U,onTouchend:B,onTouchcancel:B},[l("div",{class:x("wrapper"),style:e},[F("left",y),(n=f.default)==null?void 0:n.call(f),F("right",w)])])}}});const b=Z(se);const Re=A({name:"index",setup(a){const o=V({"zh-CN":{select:"\u9009\u62E9",delete:"\u5220\u9664",collect:"\u6536\u85CF",title:"\u5355\u5143\u683C",confirm:"\u786E\u5B9A\u5220\u9664\u5417\uFF1F",cardTitle:"\u5546\u54C1\u6807\u9898",beforeClose:"\u5F02\u6B65\u5173\u95ED",customContent:"\u81EA\u5B9A\u4E49\u5185\u5BB9"},"en-US":{select:"Select",delete:"Delete",collect:"Collect",title:"Cell",confirm:"Are you sure to delete?",cardTitle:"Title",beforeClose:"Before Close",customContent:"Custom Content"}}),f=le("ipad.jpeg"),i=({position:u})=>{switch(u){case"left":case"cell":case"outside":return!0;case"right":return new Promise(m=>{ae.confirm({title:o("confirm")}).then(()=>{m(!0)})})}};return(u,m)=>{const d=Q("demo-block");return Y(),ee(te,null,[l(d,{title:t(o)("basicUsage")},{default:s(()=>[l(t(b),null,{left:s(()=>[l(t(p),{square:"",type:"primary",text:t(o)("select")},null,8,["text"])]),right:s(()=>[l(t(p),{square:"",type:"danger",text:t(o)("delete")},null,8,["text"]),l(t(p),{square:"",type:"primary",text:t(o)("collect")},null,8,["text"])]),default:s(()=>[l(t(q),{border:!1,title:t(o)("title"),value:t(o)("content")},null,8,["title","value"])]),_:1})]),_:1},8,["title"]),l(d,{title:t(o)("customContent")},{default:s(()=>[l(t(b),null,{right:s(()=>[l(t(p),{square:"",type:"danger",class:"delete-button",text:t(o)("delete")},null,8,["text"])]),default:s(()=>[l(t(oe),{num:"2",price:"2.00",desc:t(o)("desc"),title:t(o)("cardTitle"),thumb:t(f)},null,8,["desc","title","thumb"])]),_:1})]),_:1},8,["title"]),l(d,{title:t(o)("beforeClose")},{default:s(()=>[l(t(b),{"before-close":i},{left:s(()=>[l(t(p),{square:"",type:"primary",text:t(o)("select")},null,8,["text"])]),right:s(()=>[l(t(p),{square:"",type:"danger",text:t(o)("delete")},null,8,["text"])]),default:s(()=>[l(t(q),{border:!1,title:t(o)("title"),value:t(o)("content")},null,8,["title","value"])]),_:1})]),_:1},8,["title"])],64)}}});export{Re as default};
